{"version":3,"sources":["queries/queries.js","components/BookDetails.js","components/BookList.js","components/AddBook.js","App.js","index.js"],"names":["getAuthorsQuery","gql","_templateObject","getBooksQuery","_templateObject2","getBookQuery","_templateObject3","addBookMutation","_templateObject4","deleteBookMutation","_templateObject5","Wrapper","styled","div","BookDetails_templateObject","InfoContainer","BookDetails_templateObject2","HorizontalRule","hr","BookDetails_templateObject3","Heading","h3","BookDetails_templateObject4","Paragraph","p","BookDetails_templateObject5","props","margined","HeadingContainer","_templateObject6","Button","button","_templateObject7","BookDetails","_ref","bookId","removeBookId","react_default","a","createElement","react_apollo_browser_umd","query","variables","id","_ref2","loading","error","data","book","Fragment","name","mutation","update","cache","_ref3","deleteBook","books","readQuery","writeQuery","filter","item","title","onClick","Delete","genre","author","map","_ref4","key","BookList_templateObject","Inner","BookList_templateObject2","StyledList","ul","BookList_templateObject3","ListItem","li","BookList_templateObject4","optimistic","BookList","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","selected","_this2","BookList_Wrapper","setState","components_BookDetails","Component","StyledForm","form","AddBook_templateObject","FieldContainer","AddBook_templateObject2","AddBook_templateObject3","AddBook","authorId","e","preventDefault","_this$state","mutate","optimisticResponse","addBook","__typename","Math","random","push","_this$state2","onSubmit","onSubmitForm","bind","htmlFor","type","value","onChange","target","authors","AddBook_Button","graphql","client","ApolloClient","uri","App_templateObject","App","App_Wrapper","components_BookList","components_AddBook","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c491f0a6.chunk.js","sourcesContent":["import gql from 'graphql-tag';\r\n\r\nexport const getAuthorsQuery = gql`\r\n  {\r\n    authors {\r\n      name\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const getBooksQuery = gql`\r\n  {\r\n    books {\r\n      name\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const getBookQuery = gql`\r\n  query getBook($id: ID) {\r\n    book(id: $id) {\r\n      name\r\n      genre\r\n      id\r\n      author {\r\n        id\r\n        name\r\n        age\r\n        books {\r\n          name\r\n          id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const addBookMutation = gql`\r\n  mutation addBook($name: String!, $genre: String!, $authorId: ID!) {\r\n    addBook(name: $name, genre: $genre, authorId: $authorId) {\r\n      name\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\nexport const deleteBookMutation = gql`\r\n  mutation deleteBook($id: ID!) {\r\n    deleteBook(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`","import React from 'react';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport { getBookQuery, getBooksQuery, deleteBookMutation } from '../queries/queries';\r\nimport styled from 'styled-components';\r\nimport { Delete } from 'styled-icons/feather/Delete';\r\n\r\nconst Wrapper = styled.div`\r\n  background-color: palevioletred;\r\n  width: 40%;\r\n  height: 100vh;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  box-shadow: -3px -1px 7px rgba(0,0,0, .35);\r\n\r\n  h2 {\r\n    align-self: center;\r\n  }\r\n`\r\nconst InfoContainer = styled.div`\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  padding-left: 2em;\r\n\r\n  ul {\r\n    padding-left: 2em;\r\n  }\r\n`\r\nconst HorizontalRule = styled.hr`\r\n  width: 90%;\r\n`\r\nconst Heading = styled.h3`\r\n  font-size: 1.5em;\r\n  border: 1px solid darkslateblue;\r\n  padding: 5px;\r\n  border-radius: 4px;\r\n  box-shadow: 1px 2px 5px rgba(0,0,0,.35);\r\n`\r\nconst Paragraph = styled.p`\r\n  margin: 5px ${props => props.margined ? '20px' : '0'};\r\n`\r\nconst HeadingContainer = styled.div`\r\n  width: 90%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nconst Button = styled.button`\r\n  background-color: transparent;\r\n  border: none;\r\n  width: 50px;\r\n  height: 50px;\r\n  color: darkslateblue;\r\n  cursor: pointer;\r\n`\r\n\r\nconst BookDetails = ({ bookId, removeBookId }) => (\r\n  <Wrapper>\r\n    <h2>Book Details</h2>\r\n    { bookId ?\r\n        <Query query={getBookQuery} variables={{id: bookId}} >\r\n          {({ loading, error, data }) => {\r\n            if (loading) return <Paragraph margined>Loading...</Paragraph>;\r\n            if (error) return <Paragraph margined>Error ;( </Paragraph>;\r\n\r\n            const { book } = data;\r\n            return (\r\n              <React.Fragment>\r\n                <HorizontalRule />\r\n                <InfoContainer>\r\n                  <HeadingContainer>\r\n                    <Heading>{book.name}</Heading>\r\n                    <Mutation\r\n                      mutation={deleteBookMutation}\r\n                      update={(cache, { data: { deleteBook } }) => {\r\n                        const { books } = cache.readQuery({query: getBooksQuery });\r\n                        cache.writeQuery({\r\n                          query: getBooksQuery,\r\n                          data: { books: books.filter(item => item.id !== book.id ) }\r\n                        })\r\n                        // clear parent state, so component will re-render\r\n                        removeBookId();\r\n                      }}\r\n                    >\r\n                      { deleteBook => (\r\n                        <Button title=\"delete\" onClick={() => deleteBook({ variables: { id: book.id } }) } >\r\n                          <Delete />\r\n                        </Button>\r\n                      )}\r\n                    </Mutation>\r\n                  </HeadingContainer>\r\n                  <Paragraph><strong>Genre:</strong> {book.genre}</Paragraph>\r\n                  <Paragraph><strong>Author:</strong> {book.author.name}</Paragraph>\r\n                  <Paragraph><strong>Other books:</strong></Paragraph>\r\n                  <ul>\r\n                    {\r\n                      book.author.books.map(({ name, id }) => (\r\n                        <li key={id}>{name}</li>\r\n                      ))\r\n                    }\r\n                  </ul>\r\n                </InfoContainer>\r\n              </React.Fragment>\r\n            )\r\n          }}\r\n        </Query>\r\n      :\r\n        <Paragraph margined>No book selected...</Paragraph>\r\n    }\r\n  </Wrapper>\r\n)\r\n\r\nexport default BookDetails;","import React, { Component } from 'react'\r\nimport { Query } from 'react-apollo';\r\nimport { getBooksQuery } from '../queries/queries';\r\nimport styled from 'styled-components';\r\n\r\n/*= components =*/\r\nimport BookDetails from './BookDetails';\r\n\r\n/*= styled components =*/\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\n\r\nconst Inner = styled.div`\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  width: 60%;\r\n  height: 100%;\r\n  padding-left: 1em;\r\n  padding-right: .2em;\r\n\r\n  h2 {\r\n    align-self: center;\r\n  }\r\n`\r\n\r\nconst StyledList = styled.ul`\r\n  list-style-type: none;\r\n  margin-left: 0;\r\n  margin-bottom: 1em;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`\r\n\r\nconst ListItem = styled.li`\r\n  padding: 5px;\r\n  border: 1px solid ${props => props.optimistic ? '#AAAAAA' : 'palevioletred'};\r\n  color: ${props => props.optimistic ? '#AAAAAA' : '#FFFFFF'};\r\n  box-shadow: 1px 2px 5px rgba(0,0,0,.35);\r\n  border-radius: 4px;\r\n  margin: 4px 5px;\r\n  text-align: center;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nclass BookList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selected: null,\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Wrapper>\r\n        <Inner>\r\n          <h2>Books List</h2>\r\n          <StyledList>\r\n            <Query query={getBooksQuery}>\r\n              {({ loading, error, data }) => {\r\n                if (loading) return <div>Loading Books...</div>;\r\n                if (error) return <div>Error ;( </div>;\r\n\r\n                return data.books.map(({ name, id }) => (\r\n                  <ListItem\r\n                    key={id}\r\n                    optimistic={typeof id === 'number'}\r\n                    onClick={() => this.setState({ selected: id }) }\r\n                  >\r\n                    { name }\r\n                  </ListItem>\r\n                ))\r\n              }}\r\n            </Query>\r\n          </StyledList>\r\n        </Inner>\r\n\r\n        <BookDetails bookId={this.state.selected} removeBookId={() => this.setState({selected: null})}/>\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BookList;","import React, { Component } from 'react'\r\nimport { graphql, Query } from 'react-apollo';\r\nimport styled from 'styled-components';\r\nimport { getAuthorsQuery, addBookMutation, getBooksQuery } from '../queries/queries';\r\n\r\n/*= styled components =*/\r\nconst StyledForm = styled.form`\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 350px;\r\n  padding: 10px 1em;\r\n  background-color: #8A7FCD;\r\n  color: black;\r\n`\r\n\r\nconst FieldContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: flex-end;\r\n  margin-bottom: 5px;\r\n  input, select {\r\n    width: 50%;\r\n    margin-left: 1em;\r\n  }\r\n\r\n`\r\n\r\nconst Button = styled.button`\r\n  border-radius: 50%;\r\n  height: 40px;\r\n  width: 40px;\r\n  border: none;\r\n  box-shadow: 1px 2px 1px rgba(0,0,0,0.34);\r\n  font-size: 2em;\r\n  background-color: palevioletred;\r\n  color: white;\r\n`\r\n\r\nclass AddBook extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      genre: '',\r\n      authorId: ''\r\n    }\r\n  }\r\n\r\n  onSubmitForm(e) {\r\n    e.preventDefault();\r\n\r\n    const { name, genre, authorId } = this.state;\r\n    this.props.mutate({\r\n      variables: {\r\n        name,\r\n        genre,\r\n        authorId\r\n      },\r\n      optimisticResponse: {\r\n        addBook: {\r\n          __typename: 'Book',\r\n          name,\r\n          genre,\r\n          authorId,\r\n          id: (Math.random() * 10000)\r\n        }\r\n      },\r\n      update: (cache, { data: { addBook } } ) => {\r\n        // read data from the cache for this query\r\n        const data = cache.readQuery({query: getBooksQuery });\r\n        // add new book to the books\r\n        data.books.push(addBook);\r\n        // write data back to the cache\r\n        cache.writeQuery({ query: getBooksQuery, data });\r\n      }\r\n    });\r\n\r\n    // clear inputs in the form\r\n    this.setState({\r\n      name: '',\r\n      genre: '',\r\n      authorId: ''\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name, genre } = this.state;\r\n\r\n    return (\r\n      <StyledForm id='addBook'onSubmit={ this.onSubmitForm.bind(this) }>\r\n        <FieldContainer>\r\n          <label htmlFor=\"name\">Book name:</label>\r\n          <input name=\"name\" type=\"text\" value={name} onChange={ (e) => this.setState({ name: e.target.value }) } />\r\n        </FieldContainer>\r\n\r\n        <FieldContainer>\r\n          <label htmlFor=\"genre\">Genre:</label>\r\n          <input name=\"genre\" type=\"text\" value={genre} onChange={ (e) => this.setState({ genre: e.target.value }) }/>\r\n        </FieldContainer>\r\n\r\n        <FieldContainer>\r\n          <label htmlFor=\"author\">Author:</label>\r\n          <select name=\"author\" value={this.state.authorId} onChange={ (e) => this.setState({ authorId: e.target.value }) }>\r\n            <option value=\"\">Select author</option>\r\n            <Query query={getAuthorsQuery}>\r\n              {({ loading, error, data }) => {\r\n                if (loading) return <option>Loading...</option>;\r\n                if (error) return <option>Error ;( </option>;\r\n\r\n                return data.authors.map(({ name, id }) => (\r\n                  <option key={id} value={id}>{name}</option>\r\n                ));\r\n              }}\r\n            </Query>\r\n          </select>\r\n        </FieldContainer>\r\n\r\n        <Button>+</Button>\r\n      </StyledForm>\r\n    )\r\n  }\r\n}\r\n\r\nexport default graphql(addBookMutation)(AddBook);\r\n","import React, { Component } from 'react';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from 'react-apollo';\n\n/* = components = */\nimport BookList from './components/BookList';\nimport AddBook from './components/AddBook';\nimport styled from 'styled-components';\n\n/*= apollo client setup =*/\nconst client = new ApolloClient({\n  uri: '/graphql'\n})\n\n/*= styled components =*/\nconst Wrapper = styled.div`\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n`\n\nclass App extends Component {\n  render() {\n    return (\n      <ApolloProvider client={client}>\n        <Wrapper>\n          <BookList />\n          <AddBook />\n        </Wrapper>\n      </ApolloProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}